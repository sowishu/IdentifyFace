<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Create Profile</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<!-- MATERIAL DESIGN ICONIC FONT -->
		<link rel="stylesheet" href="fonts/material-design-iconic-font/css/material-design-iconic-font.min.css">

		<!-- STYLE CSS -->
		<link rel="stylesheet" href="css/style.css">
	</head>

	<body>

		<div class="wrapper" style="background-image: url('images/bg-registration-form-1.jpg');">
			<div class="inner">
				<form action="http://localhost:5000/dataentry" method="POST">
					<h3>Registration Form</h3>
                    <table id="table">
    <tr>
        <td>

					<div class="form-group">
						<input type="text" id="name" name="name"  placeholder="First Name" class="form-control" required>
						<input type="text"id="lastname" name="lastname" placeholder="Last Name" class="form-control" required>
					</div>
					<div class="form-wrapper">
						<select name="" id="" class="form-control">
							<option value="" disabled selected>Gender</option>
							<option value="male">Male</option>
							<option value="femal">Female</option>

						</select>
						<i class="zmdi zmdi-caret-down" style="font-size: 17px"></i>
					</div>
					<div class="form-wrapper">
						<input type="text" placeholder="Age"name="age"  maxlength="2" pattern="\d{2}" class="form-control">
						<i class="zmdi zmdi-calendar-check"></i>
					</div>
					<div class="form-wrapper">
						<input type="text"id="address" name="address" placeholder="Address" class="form-control" required>
						<i class="zmdi zmdi-view-headline"></i>
					</div>
					<div class="form-wrapper">
						<input type="text" id="phone" name="phone"  pattern="[7-9]{1}[0-9]{9}" placeholder="Phone" class="form-control" required>
						<i class="zmdi zmdi-phone-end"></i>

					</div>
					<div class="form-wrapper">
						<input type="text" id="aadhar" name="aadhar" maxlength="4" pattern="\d{4}"placeholder="Aadhaar Number" class="form-control" required>
						<i class="zmdi zmdi-account"></i>
					</div>
					<div class="form-wrapper">
						<input type="text" id="mail" name="mail" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$"placeholder="Email Address" class="form-control"required>
						<i class="zmdi zmdi-email"></i>
					</div>
        </td>
        <td>



				<div class="image-holder">
                    <center>
					<video id="video" width="200" height="200" autoplay></video>
                            <input type="button" onclick="takeASnap()" id="snap" value="snap"></input>
                            <input type="hidden" id="img" name="img"/>
                            <canvas id="canvas" width="100" height="100"></canvas>
                    </center>

				</div>
                    <button>submit
						<i class="zmdi zmdi-arrow-right"></i>
                    </button></td>

    </tr></table>                    </form>
			</div>
		</div>

	</body>
<script>


    var video = document.getElementById('video');

    // Get access to the camera!
    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
        // Not adding `{ audio: true }` since we only want video now
        navigator.mediaDevices.getUserMedia({video: true}).then(function (stream) {
            //video.src = window.URL.createObjectURL(stream);
            video.srcObject = stream;
            video.play();
        });
    }

    //const btn = document.getElementById("snap");
    //btn.disabled = false;

    //btn.onclick = e => {
        //takeASnap()
    //};
    var canvas = document.getElementById('canvas');
    var context = canvas.getContext('2d');
    var video = document.getElementById('video');

function takeASnap() {
        context.drawImage(video, 0, 0, 100, 100);
        dataURL = canvas.toDataURL()
        document.getElementById('img').value = dataURL
        //alert( document.getElementById('img'))
   }
</script>
</html>